<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Menú: ' + ${menu.nombre}">Menú</title>
    <link rel="stylesheet" th:href="@{/css/verMenu.css}">
</head>
<body>

<h1 th:text="'Menú: ' + ${menu.nombre}">Nombre del Menú</h1>

<!-- Mostrar mensaje si no hay items -->
<p th:if="${#lists.isEmpty(items)}">Este menú no tiene ningún item aún.</p>

<!-- Lista de items -->
<ul th:if="${not #lists.isEmpty(items)}">
    <li th:each="item : ${items}">
        <strong th:text="${item.nombre}">Nombre</strong> -
        <span th:text="${item.tipo}">Tipo</span> -
        <span th:text="${item.precio} + ' €'">Precio</span>

        <!-- Botón de editar -->
        <a th:href="@{/cartas/menu/{menuId}/editarItem/{itemId}(menuId=${menu.id}, itemId=${item.id})}">
            Editar
        </a>

        <!-- Botón de eliminar -->
        <form th:action="@{/cartas/menu/{menuId}/eliminarItem/{itemId}(menuId=${menu.id}, itemId=${item.id})}"
              method="post" style="display:inline;">
            <button type="submit">Eliminar</button>
        </form>
    </li>
</ul>

<!-- Formulario para añadir nuevo item -->
<h2>Añadir nuevo item</h2>
<form th:action="@{/cartas/menu/{id}/agregarItem(id=${menu.id})}" method="post">
    <label>Nombre:</label>
    <input type="text" name="nombre" required>

    <label>Precio:</label>
    <input type="number" step="0.01" name="precio" required>

    <label>Tipo:</label>
    <input type="text" name="tipo" required>

    <button type="submit">Añadir</button>
</form>

<!-- Volver al panel del restaurante -->
<a href="/inicioRestaurante">Volver</a>

</body>
</html>
